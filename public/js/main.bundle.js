!function(e){function t(t){for(var n,a,s=t[0],l=t[1],c=t[2],v=0,g=[];v<s.length;v++)a=s[v],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&g.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);g.length;)g.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==i[l]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},i={0:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([118,1]),r()}({118:function(e,t,r){"use strict";r.r(t);r(26),r(65),r(81),r(83),r(85),r(93),r(95),r(96),r(97),r(98),r(99),r(100),r(101),r(102),r(103),r(104),r(105),r(107),r(108),r(109),r(110),r(111),r(112),r(113),r(114),r(115),r(116),r(117),r(56),r(0);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=document.querySelector(t);r.width=500,r.height=500,this.isOldBrowser=/msie|trident/.test(navigator.userAgent.toLowerCase),this.images=["./images/image1.jpg"],this.program=null,this.vertices=new Float32Array(void 0),!1===this.isOldBrowser&&(this.gl=r.getContext("webgl"),this.imageLoader(this.start()))}var t,r,i;return t=e,(r=[{key:"initializeGL",value:function(){this.gl.clearColor(0,0,0,.2),this.gl.clearDepth(1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.setShaders()}},{key:"setShaders",value:function(){var e=this.createVertexShader("attribute vec3 position;\nattribute vec4 color;\nattribute vec2 textureCoord;\nvarying   vec4 vColor;\nvarying   vec2 vTextureCoord;\n\nvoid main(void){\n    vColor        = color;\n    vTextureCoord = textureCoord ;\n    gl_Position   = vec4(position, 1.0);\n}\n\n\n// precision mediump float;\n\n// attribute vec4 position;\n// attribute vec2 uv;\n\n// varying vec2 vUv;\n\n// void main() {\n// \tgl_Position = position;\n// \tvUv = vec2( (position.x + 1.)/2., (-position.y + 1.)/2.);\n// }\n"),t=this.createFragmentShader("precision mediump float;\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform sampler2D dispTexture;\nuniform float ratio;\nvarying vec4      vColor;\nvarying vec2      vTextureCoord;\n\nvoid main(void){\n    vec4 disp = texture2D(dispTexture, vTextureCoord*3.0);\n    vec2 calcPosition2 = vTextureCoord + vec2(disp.r,disp.g) *(1.0 - ratio);\n    vec2 calcPosition1 = vTextureCoord + vec2(disp.g,disp.b) *ratio;\n    vec4 image1 = texture2D(texture0, calcPosition1);\n    vec4 image2 = texture2D(texture1, calcPosition2);\n    vec4 dist = mix(image1, image2, ratio);\n    gl_FragColor = dist;\n}\n");this.program=this.createProgram(e,t)}},{key:"imageLoader",value:function(e){var t=this.images;t.length,t.forEach((function(e){var t=new Image;t.src=e,t.onload=function(){}}))}},{key:"start",value:function(){this.initializeGL()}},{key:"createVertexShader",value:function(e){var t=this.gl.createShader(this.gl.VERTEX_SHADER);return this.gl.shaderSource(t,e),this.gl.compileShader(t),t}},{key:"createFragmentShader",value:function(e){var t=this.gl.createShader(this.gl.FRAGMENT_SHADER);return this.gl.shaderSource(t,e),this.gl.compileShader(t),t}},{key:"createProgram",value:function(e,t){var r=this.gl.createProgram();if(this.gl.attachShader(r,e),this.gl.attachShader(r,t),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS))return this.gl.useProgram(r),r;alert(this.gl.getProgramInfoLog(r))}}])&&n(t.prototype,r),i&&n(t,i),e}();new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),new i(".canvas")}}});